# Настройка интерпретатора PyCharm для Docker

## ⚠️ ВАЖНО: НЕ УСТАНАВЛИВАЙТЕ ПАКЕТЫ ЧЕРЕЗ PyCharm!

**Проблема:** PyCharm показывает ошибки "Package requirements not satisfied" и пытается установить пакеты локально. Это НЕПРАВИЛЬНО для Docker-проекта.

**Правильный подход:** Все пакеты уже установлены внутри Docker-контейнера. Нужно только настроить PyCharm для их использования.

## Решение: Настройка удаленного интерпретатора

### Шаг 1: Запуск проекта
Убедитесь, что Docker-контейнеры запущены:
```bash
run-docker.bat
```

### Шаг 2: Открытие настроек PyCharm
1. `File` → `Settings...` (или `Ctrl+Alt+S`)
2. `Project: uk-commission-admin-panel` → `Python Interpreter`

### Шаг 3: Удаление старых интерпретаторов (если есть)
1. Если в списке есть локальные интерпретаторы (.venv), удалите их
2. Нажмите на интерпретатор → иконка мусорного ведра

### Шаг 4: Добавление нового интерпретатора
1. Нажмите на иконку шестеренки (⚙️) → `Add...`
2. В левом меню выберите **`Docker Compose`**

### Шаг 5: Настройка Docker Compose
- **Server**: Выберите `Docker` (должен быть настроен автоматически)
- **Configuration file(s)**: Укажите путь к `docker-compose.yml`
- **Service**: Выберите `web` из выпадающего списка
- **Python interpreter path**: Оставьте `/usr/local/bin/python`

### Шаг 6: Завершение настройки
1. Нажмите `OK`
2. PyCharm начнет "интроспекцию" (анализ пакетов в контейнере)
3. Дождитесь завершения индексации (может занять 2-3 минуты)
4. Нажмите `Apply` и `OK`

### Результат
После настройки:
- ✅ Исчезнут ошибки "Unresolved reference"
- ✅ Исчезнут предупреждения "Package requirements not satisfied"
- ✅ Заработает автодополнение для Django
- ✅ IntelliSense буде�� видеть все установленные пакеты

### ❌ ЧТО НЕ ДЕЛАТЬ:
- **НЕ** нажимайте "Install packages" в PyCharm
- **НЕ** используйте PyCharm Package Manager
- **НЕ** создавайте локальные виртуальные окружения (.venv). Стандартное имя для окружения в этом проекте — venv

### ✅ ЧТО ДЕЛАТЬ:
- Все зависимости управляются файлами в папке `requirements/`
- При добавлении новых пакетов редактируйте `requirements/base.txt` или `requirements/local.txt`
- После изменения requirements пересобирайте Docker-образ: `run-docker.bat`

### Устранение неполадок
Если настройка не сработала:
1. Убедитесь, что Docker Desktop запущен
2. Проверьте, что контейнеры работают: `docker-compose ps`
3. Перезапустите PyCharm
4. Попробуйте удалить и заново добавить интерпретатор
5. В крайнем случае удалите папку `.idea` и переоткройте проект
