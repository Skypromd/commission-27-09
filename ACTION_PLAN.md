# План действий: Интеграция Frontend и Backend

**Цель:** Привести структуру frontend-приложения в полное соответствие со структурой backend (Django), обеспечив взаимодействие через API для каждой основной сущности.

**Общий подход:** Для каждого ключевого Django-приложения (`app`) из бэкенда необходимо создать или доработать соответствующий модуль на фронтенде. Модуль включает в себя:

1.  **API Slice (в `src/features/`):** Файл для взаимодействия с API (CRUD-операции) с использованием RTK Query.
2.  **Типы (в `src/types/`):** TypeScript-интерфейс, описывающий модель данных из Django.
3.  **Страница (в `src/pages/`):** React-компонент страницы для отображения и управления данными (например, с использованием `DataTable`).
4.  **Навигация:** Добавление маршрута в `AppRouter.tsx` и ссылки в `Sidebar.tsx`.

---

## Дорожная карта интеграции

Ниже представлен список модулей бэкенда и задачи по их интеграции на фронтенде.

### 1. Консультанты (`advisers`)
-   **Задача:** Создать полный модуль для управления консультантами.
-   **Действия:**
    -   [ ] Создать `src/types/adviser.ts` по модели `Adviser` из Django.
    -   [ ] Создать `src/features/advisers/advisersApiSlice.ts` для API-запросов к `/advisers`.
    -   [ ] Доработать страницу `src/pages/Consultants.tsx` для загрузки и отображения данных через `useGetAdvisersQuery`.
    -   [ ] Реализовать модальные окна для создания/редактирования консультантов.

### 2. Продукты (`products`)
-   **Задача:** Интегрировать страницу "Продукты" с API.
-   **Действия:**
    -   [ ] Создать `src/types/product.ts`.
    -   [ ] Создать `src/features/products/productsApiSlice.ts` для API-запросов к `/products`.
    -   [ ] Обновить `src/pages/Products.tsx` для использования нового API slice.

### 3. Продажи (`sales`)
-   **Задача:** Создать модуль для отображения данных о продажах.
-   **Действия:**
    -   [ ] Создать `src/types/sale.ts`.
    -   [ ] Создать `src/features/sales/salesApiSlice.ts` для API-запросов к `/sales`.
    -   [ ] Обновить `src/pages/Sales.tsx` для отображения данных.

### 4. Комиссии (`commission`)
-   **Задача:** Интегрировать страницу "Комиссии" с бэкендом.
-   **Действия:**
    -   [ ] Создать `src/types/commission.ts`.
    -   [ ] Создать `src/features/commission/commissionApiSlice.ts`.
    -   [ ] Обновить `src/pages/Commissions.tsx` для отображения данных о комиссиях.

### 5. Отчеты (`reports`)
-   **Задача:** Реализовать функционал генерации и загрузки отчетов.
-   **Действия:**
    -   [ ] Создать `src/types/report.ts`.
    -   [ ] Создать `src/features/reports/reportsApiSlice.ts` с эндпоинтами для запуска генерации отчета и проверки его статуса.
    -   [ ] Обновить `src/pages/Reports.tsx` для взаимодействия с API отчетов.

### 6. Уведомления (`notifications`)
-   **Задача:** Реализовать систему уведомлений в реальном времени.
-   **Действия:**
    -   [ ] Создать `src/features/notifications/notificationsApiSlice.ts` для получения уведомлений.
    -   [ ] Реализовать WebSocket-соединение (возможно, в `useWebSocket.ts`) для получения push-уведомлений.
    -   [ ] Интегрировать с компонентом `NotificationBell.tsx` для отображения количества и списка уведомлений.

### 7. Аудит (`audit`)
-   **Задача:** Создать страницу для просмотра логов аудита.
-   **Действия:**
    -   [ ] Создать новую страницу `src/pages/Audit.tsx`.
    -   [ ] Создать `src/types/auditLog.ts`.
    -   [ ] Создать `src/features/audit/auditApiSlice.ts`.
    -   [ ] Добавить маршрут и ссылку в навигацию для страницы аудита.

---

Этот план можно использовать как чек-лист для дальнейшей разработки. Начнем с пункта **1. Консультанты (`advisers`)**.

